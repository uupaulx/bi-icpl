# Product Requirements Document (PRD)

# BI Report Portal

**‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• Power BI Reports ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á**

---

| Field | Value |
|-------|-------|
| Project Name | BI Report Portal |
| Version | 1.0 |
| Last Updated | January 2026 |
| Status | Draft |

---

## 1. Executive Summary

BI Report Portal ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ß‡πá‡∏ö‡πÅ‡∏≠‡∏õ‡∏û‡∏•‡∏¥‡πÄ‡∏Ñ‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• Power BI Reports ‡πÅ‡∏ö‡∏ö Public Embed ‡πÇ‡∏î‡∏¢‡∏°‡∏µ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏ï‡∏≤‡∏° User ‡πÅ‡∏•‡∏∞ Department ‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏°‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏ô‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á Reports ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏ï‡∏ô‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ ‡πÇ‡∏î‡∏¢‡∏°‡∏µ Admin ‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á

---

## 2. Problem Statement

### 2.1 Current Challenges

- ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á Power BI Reports
- ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á Reports ‡∏ï‡∏≤‡∏°‡πÅ‡∏ú‡∏ô‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÑ‡∏î‡πâ
- ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏ö Authentication ‡∏ó‡∏µ‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö Microsoft Account ‡∏Ç‡∏≠‡∏á‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£
- Admin ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ß‡πà‡∏≤ User ‡πÑ‡∏´‡∏ô‡πÄ‡∏´‡πá‡∏ô Report ‡πÉ‡∏î

---

## 3. Goals & Objectives

### 3.1 Primary Goals

1. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏∞‡∏ö‡∏ö Web Portal ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• Power BI Reports ‡πÅ‡∏ö‡∏ö Centralized
2. ‡πÉ‡∏ä‡πâ Microsoft Authentication ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏î‡∏ß‡∏Å
3. Admin ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Reports ‡πÅ‡∏•‡∏∞‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô
4. User ‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞ Reports ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô

---

## 4. User Roles & Personas

### 4.1 Admin

‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Reports ‡πÅ‡∏•‡∏∞‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö Users

- ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏° ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ‡∏•‡∏ö Embedded Reports ‡πÑ‡∏î‡πâ
- ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ß‡πà‡∏≤ User (Email) ‡πÑ‡∏´‡∏ô‡πÄ‡∏´‡πá‡∏ô Report ‡πÉ‡∏î‡πÑ‡∏î‡πâ
- ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏π Reports ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏î‡πâ
- ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Users ‡πÅ‡∏•‡∏∞‡∏î‡∏π Activity Logs ‡πÑ‡∏î‡πâ

### 4.2 User (‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô)

‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡∏ó‡∏µ‡πà Login ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡πâ‡∏ß‡∏¢ Microsoft Account

- ‡∏´‡∏•‡∏±‡∏á Login ‡∏à‡∏∞‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô Report ‡πÉ‡∏î‡πÜ ‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤ Admin ‡∏à‡∏∞‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå
- ‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞ Reports ‡∏ó‡∏µ‡πà Admin ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÉ‡∏´‡πâ‡∏î‡∏π‡πÑ‡∏î‡πâ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
- ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏π‡πÅ‡∏•‡∏∞ Interact ‡∏Å‡∏±‡∏ö Reports ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå

---

## 5. Functional Requirements

### 5.1 Authentication System

| ID | Requirement | Description |
|----|-------------|-------------|
| AUTH-01 | Microsoft SSO | ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£ Login ‡∏î‡πâ‡∏ß‡∏¢ Microsoft Account (Azure AD/Entra ID) ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô |
| AUTH-02 | User Registration | User ‡∏ó‡∏µ‡πà Login ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (Email, Name, Profile) |
| AUTH-03 | Session Management | ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡πâ‡∏≠‡∏á‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Session ‡πÅ‡∏•‡∏∞ Token Refresh ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ |
| AUTH-04 | Role Assignment | Admin ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏≥‡∏´‡∏ô‡∏î Role (Admin/User) ‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö Users ‡πÑ‡∏î‡πâ |

### 5.2 Report Management (Admin)

| ID | Requirement | Description |
|----|-------------|-------------|
| RPT-01 | Create Report | Admin ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏° Report ‡πÉ‡∏´‡∏°‡πà‡πÇ‡∏î‡∏¢‡∏£‡∏∞‡∏ö‡∏∏: ‡∏ä‡∏∑‡πà‡∏≠, ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢, Power BI Embed URL, ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà |
| RPT-02 | Edit Report | Admin ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Report ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏î‡πâ |
| RPT-03 | Delete Report | Admin ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏•‡∏ö Report ‡πÑ‡∏î‡πâ (Soft Delete ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡πá‡∏ö‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥) |
| RPT-04 | Report Categories | Admin ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏à‡∏±‡∏î‡∏Å‡∏•‡∏∏‡πà‡∏° Reports ‡∏ï‡∏≤‡∏°‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡πÑ‡∏î‡πâ (Sales, HR, Finance, etc.) |
| RPT-05 | Report Status | Admin ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• Report ‡πÑ‡∏î‡πâ (Active/Inactive) |

### 5.3 Access Control

| ID | Requirement | Description |
|----|-------------|-------------|
| ACC-01 | User-Report Mapping | Admin ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ß‡πà‡∏≤ User (‡∏£‡∏∞‡∏ö‡∏∏‡∏î‡πâ‡∏ß‡∏¢ Email) ‡πÑ‡∏´‡∏ô‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏î‡∏π Report ‡πÉ‡∏î‡πÑ‡∏î‡πâ |
| ACC-02 | Bulk Assignment | Admin ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÉ‡∏´‡πâ‡∏´‡∏•‡∏≤‡∏¢ Users ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ |
| ACC-03 | Department-based Access | Admin ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ï‡∏≤‡∏° Department ‡πÑ‡∏î‡πâ (Optional) |
| ACC-04 | Default No Access | User ‡∏ó‡∏µ‡πà Login ‡πÉ‡∏´‡∏°‡πà‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô Report ‡πÉ‡∏î‡πÜ ‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤ Admin ‡∏à‡∏∞‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå |
| ACC-05 | Revoke Access | Admin ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á Report ‡∏Ç‡∏≠‡∏á User ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ |

### 5.4 User Dashboard

| ID | Requirement | Description |
|----|-------------|-------------|
| USR-01 | Report List | User ‡πÄ‡∏´‡πá‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ Reports ‡∏ó‡∏µ‡πà‡∏ï‡∏ô‡πÄ‡∏≠‡∏á‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô |
| USR-02 | Report Viewer | User ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡∏¥‡∏î‡∏î‡∏π Report ‡πÅ‡∏ö‡∏ö Embedded ‡πÑ‡∏î‡πâ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö |
| USR-03 | Search & Filter | User ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏•‡∏∞‡∏Å‡∏£‡∏≠‡∏á Reports ‡∏ï‡∏≤‡∏°‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡πÑ‡∏î‡πâ |
| USR-04 | Favorites | User ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏° Reports ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢‡πÄ‡∏õ‡πá‡∏ô Favorites ‡πÑ‡∏î‡πâ |
| USR-05 | Empty State | ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠ User ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ Reports ‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ |

---

## 6. System Architecture & Logic Analysis

### 6.1 High-Level Architecture

‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢ 3 ‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏•‡∏±‡∏Å:

1. **Frontend (Web Application)** - React/Next.js
2. **Backend (API Server)** - Node.js/Express ‡∏´‡∏£‡∏∑‡∏≠ .NET Core
3. **Database** - PostgreSQL ‡∏´‡∏£‡∏∑‡∏≠ SQL Server

### 6.2 Data Model

#### 6.2.1 Users Table

| Field | Type | Description |
|-------|------|-------------|
| id | UUID | Primary Key |
| email | VARCHAR(255) | Microsoft Account Email (Unique) |
| display_name | VARCHAR(255) | ‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏à‡∏≤‡∏Å Microsoft Profile |
| role | ENUM | 'admin' ‡∏´‡∏£‡∏∑‡∏≠ 'user' (Default: 'user') |
| department | VARCHAR(100) | ‡πÅ‡∏ú‡∏ô‡∏Å (Optional - ‡∏î‡∏∂‡∏á‡∏à‡∏≤‡∏Å Azure AD) |
| is_active | BOOLEAN | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ Active/Inactive |
| created_at | TIMESTAMP | ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á |
| last_login | TIMESTAMP | ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà Login ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î |

#### 6.2.2 Reports Table

| Field | Type | Description |
|-------|------|-------------|
| id | UUID | Primary Key |
| name | VARCHAR(255) | ‡∏ä‡∏∑‡πà‡∏≠ Report |
| description | TEXT | ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ Report |
| embed_url | TEXT | Power BI Public Embed URL |
| category_id | UUID | FK to Categories Table |
| sort_order | INTEGER | ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏†‡∏≤‡∏¢‡πÉ‡∏ô Category (Default: 0) |
| is_active | BOOLEAN | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ Active/Inactive |
| created_by | UUID | FK to Users (Admin ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á) |
| created_at | TIMESTAMP | ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á |

#### 6.2.3 User_Report_Access Table (Many-to-Many)

| Field | Type | Description |
|-------|------|-------------|
| id | UUID | Primary Key |
| user_id | UUID | FK to Users |
| report_id | UUID | FK to Reports |
| granted_by | UUID | FK to Users (Admin ‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå) |
| granted_at | TIMESTAMP | ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå |

#### 6.2.4 Categories Table

| Field | Type | Description |
|-------|------|-------------|
| id | UUID | Primary Key |
| name | VARCHAR(100) | ‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà (Sales, HR, Finance, etc.) |
| description | TEXT | ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà |
| icon | VARCHAR(50) | Icon ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô Menu (‡πÄ‡∏ä‡πà‡∏ô chart-bar, users, dollar) |
| sort_order | INTEGER | ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÉ‡∏ô Menu (Default: 0) |

### 6.3 Core Logic Flows

#### 6.3.1 Authentication Flow

1. User ‡∏Ñ‡∏•‡∏¥‡∏Å "Login with Microsoft"
2. Redirect ‡πÑ‡∏õ Microsoft OAuth (Azure AD/Entra ID)
3. User ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡∏ô‡∏Å‡∏±‡∏ö Microsoft
4. Microsoft Redirect ‡∏Å‡∏•‡∏±‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏° Authorization Code
5. Backend ‡πÅ‡∏•‡∏Å Code ‡πÄ‡∏õ‡πá‡∏ô Access Token + ID Token
6. ‡∏î‡∏∂‡∏á User Profile ‡∏à‡∏≤‡∏Å Microsoft Graph API
7. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Email ‡∏°‡∏µ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà:
   - ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ: ‡∏™‡∏£‡πâ‡∏≤‡∏á User ‡πÉ‡∏´‡∏°‡πà (role = 'user', ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏î‡∏π Report ‡πÉ‡∏î‡πÜ)
   - ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ: ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó last_login
8. ‡∏™‡∏£‡πâ‡∏≤‡∏á JWT Token ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Session
9. Redirect User ‡πÑ‡∏õ Dashboard

#### 6.3.2 Report Access Logic

‡πÄ‡∏°‡∏∑‡πà‡∏≠ User ‡∏£‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏î‡∏π Reports:

1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö JWT Token ‡∏ß‡πà‡∏≤ Valid ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
2. ‡∏î‡∏∂‡∏á User ID ‡∏à‡∏≤‡∏Å Token
3. Query Reports ‡∏ó‡∏µ‡πà User ‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå:

```sql
SELECT r.* FROM reports r
INNER JOIN user_report_access ura ON r.id = ura.report_id
WHERE ura.user_id = :userId AND r.is_active = true
ORDER BY r.sort_order, r.name
```

4. ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ Reports: ‡πÅ‡∏™‡∏î‡∏á Empty State
5. ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ Reports: ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ Reports

#### 6.3.3 Admin Grant Access Logic

‡πÄ‡∏°‡∏∑‡πà‡∏≠ Admin ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÉ‡∏´‡πâ User:

1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Admin ‡∏°‡∏µ role = 'admin'
2. ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•: User Email(s) + Report ID(s)
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Email(s) ‡∏°‡∏µ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà:
   - ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ: ‡∏™‡∏£‡πâ‡∏≤‡∏á User Placeholder ‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏à‡πâ‡∏á Error
4. ‡∏™‡∏£‡πâ‡∏≤‡∏á Records ‡πÉ‡∏ô user_report_access Table
5. ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å granted_by ‡πÅ‡∏•‡∏∞ granted_at
6. (Optional) ‡∏™‡πà‡∏á Email ‡πÅ‡∏à‡πâ‡∏á User ‡∏ß‡πà‡∏≤‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÉ‡∏´‡∏°‡πà

#### 6.3.4 View Report Logic

‡πÄ‡∏°‡∏∑‡πà‡∏≠ User ‡πÄ‡∏õ‡∏¥‡∏î‡∏î‡∏π Report:

1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ User ‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏î‡∏π Report ‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
2. ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå: Return 403 Forbidden
3. ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå: ‡∏î‡∏∂‡∏á embed_url ‡∏à‡∏≤‡∏Å Reports Table
4. Render Power BI iframe ‡∏î‡πâ‡∏ß‡∏¢ embed_url
5. ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Activity Log (User, Report, Timestamp)

---

## 7. API Endpoints

### 7.1 Authentication APIs

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | /api/auth/login | Redirect to Microsoft OAuth |
| GET | /api/auth/callback | OAuth callback handler |
| POST | /api/auth/logout | Logout and clear session |
| GET | /api/auth/me | Get current user profile |

### 7.2 Report APIs (User)

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | /api/menu | Get menu structure (Categories + Reports user has access) |
| GET | /api/reports | Get all reports user has access to (flat list) |
| GET | /api/reports/:id | Get specific report (with access check) |
| GET | /api/reports/:id/embed | Get embed URL for report |
| GET | /api/categories | Get all categories (for reference) |

### 7.3 Admin APIs

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | /api/admin/reports | Get all reports |
| POST | /api/admin/reports | Create new report |
| PUT | /api/admin/reports/:id | Update report |
| DELETE | /api/admin/reports/:id | Delete report (soft delete) |
| GET | /api/admin/users | Get all users |
| PUT | /api/admin/users/:id/role | Update user role |
| POST | /api/admin/access/grant | Grant report access to users |
| POST | /api/admin/access/revoke | Revoke report access from users |
| GET | /api/admin/reports/:id/users | Get users with access to report |
| GET | /api/admin/users/:id/reports | Get reports user has access to |
| GET | /api/admin/categories | Get all categories |
| POST | /api/admin/categories | Create new category |
| PUT | /api/admin/categories/:id | Update category (name, icon, sort_order) |
| DELETE | /api/admin/categories/:id | Delete category (must have no reports) |

---

## 8. UI/UX Requirements

### 8.1 Menu Structure

‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏ä‡πâ Sidebar Navigation ‡πÅ‡∏ö‡∏ö Category ‚Üí Reports (Collapsible Menu):

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  üìä BI Portal   ‚îÇ  Sales Daily Report            ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                 ‚îÇ                                ‚îÇ
‚îÇ  ‚ñº Sales        ‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ    ‚Ä¢ Daily  ‚óÑ‚îÄ‚îÄ‚îÄ‚îÇ   ‚îÇ                        ‚îÇ   ‚îÇ
‚îÇ    ‚Ä¢ Monthly    ‚îÇ   ‚îÇ   [Power BI iframe]    ‚îÇ   ‚îÇ
‚îÇ    ‚Ä¢ YTD        ‚îÇ   ‚îÇ                        ‚îÇ   ‚îÇ
‚îÇ                 ‚îÇ   ‚îÇ                        ‚îÇ   ‚îÇ
‚îÇ  ‚ñ∏ HR           ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ  ‚ñ∏ Finance      ‚îÇ                                ‚îÇ
‚îÇ  ‚ñ∏ Marketing    ‚îÇ                                ‚îÇ
‚îÇ                 ‚îÇ                                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

#### 8.1.1 Menu Behavior

- **Category (‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å)**: ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠ Expand/Collapse ‡πÅ‡∏™‡∏î‡∏á Reports ‡∏¢‡πà‡∏≠‡∏¢
- **Report (‡πÄ‡∏°‡∏ô‡∏π‡∏¢‡πà‡∏≠‡∏¢)**: ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏™‡∏î‡∏á Power BI Report ‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏Ç‡∏ß‡∏≤
- **Active State**: Highlight ‡πÄ‡∏°‡∏ô‡∏π‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏π‡∏≠‡∏¢‡∏π‡πà
- **Remember State**: ‡∏à‡∏≥‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ Expand/Collapse ‡∏Ç‡∏≠‡∏á User

#### 8.1.2 Menu Visibility Logic

User ‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞ Category ‡πÅ‡∏•‡∏∞ Reports ‡∏ó‡∏µ‡πà‡∏ï‡∏ô‡πÄ‡∏≠‡∏á‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå:

```sql
-- ‡∏î‡∏∂‡∏á Categories ‡∏ó‡∏µ‡πà User ‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏î‡∏π Report ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 1 ‡∏ï‡∏±‡∏ß
SELECT DISTINCT c.* FROM categories c
INNER JOIN reports r ON c.id = r.category_id
INNER JOIN user_report_access ura ON r.id = ura.report_id
WHERE ura.user_id = :userId
  AND r.is_active = true
ORDER BY c.sort_order, c.name
```

#### 8.1.3 Menu Display Rules

| Condition | Display |
|-----------|---------|
| User ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå Report ‡πÉ‡∏î‡πÄ‡∏•‡∏¢ | ‡πÅ‡∏™‡∏î‡∏á Empty State: "‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ Report ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ Admin" |
| Category ‡πÑ‡∏°‡πà‡∏°‡∏µ Report ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå | ‡∏ã‡πà‡∏≠‡∏ô Category ‡∏ô‡∏±‡πâ‡∏ô‡∏à‡∏≤‡∏Å Menu |
| Report ‡∏ñ‡∏π‡∏Å Inactive | ‡∏ã‡πà‡∏≠‡∏ô Report ‡∏ô‡∏±‡πâ‡∏ô‡∏à‡∏≤‡∏Å Menu (‡πÅ‡∏°‡πâ‡πÄ‡∏Ñ‡∏¢‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå) |
| User ‡πÄ‡∏õ‡πá‡∏ô Admin | ‡πÅ‡∏™‡∏î‡∏á Menu ‡∏û‡∏¥‡πÄ‡∏®‡∏©: "‚öôÔ∏è Admin Panel" ‡∏ó‡∏µ‡πà‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏Ç‡∏≠‡∏á Sidebar |

### 8.2 Pages Overview

1. **Login Page** - ‡∏´‡∏ô‡πâ‡∏≤ Login ‡∏î‡πâ‡∏ß‡∏¢ Microsoft Button
2. **User Dashboard** - ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏™‡∏î‡∏á Reports ‡∏ó‡∏µ‡πà User ‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå
3. **Report Viewer** - ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏™‡∏î‡∏á Power BI Report (Embedded)
4. **Admin Dashboard** - ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Reports ‡πÅ‡∏•‡∏∞ Users
5. **Report Management** - ‡∏´‡∏ô‡πâ‡∏≤ CRUD Reports
6. **Access Management** - ‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå User-Report

### 8.3 Key UI Components

- **Navigation Bar** - ‡πÅ‡∏™‡∏î‡∏á‡∏ä‡∏∑‡πà‡∏≠ User, Role, Logout Button
- **Report Card** - ‡πÅ‡∏™‡∏î‡∏á‡∏ä‡∏∑‡πà‡∏≠ Report, Category, Description, Thumbnail
- **Search Bar** - ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ Reports ‡∏ï‡∏≤‡∏°‡∏ä‡∏∑‡πà‡∏≠
- **Category Filter** - ‡∏Å‡∏£‡∏≠‡∏á Reports ‡∏ï‡∏≤‡∏°‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà
- **User Selector** - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Users ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå (Admin)
- **Empty State** - ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏°‡∏µ Reports

---

## 9. Data Classification & Security Guidelines

### 9.1 ‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ç‡∏≠‡∏á Public Embed URL

> ‚ö†Ô∏è **IMPORTANT**: Public Embed URL ‡∏´‡∏°‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ß‡πà‡∏≤‡πÉ‡∏Ñ‡∏£‡∏Å‡πá‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏°‡∏µ URL ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏î‡∏π Report ‡πÑ‡∏î‡πâ ‡∏£‡∏∞‡∏ö‡∏ö BI Portal ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà **"‡∏ã‡πà‡∏≠‡∏ô URL"** ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà **"‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô URL"** ‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏î‡∏±‡∏ö Power BI

#### 9.1.1 Risk Assessment

| Risk | Description | Impact |
|------|-------------|--------|
| URL Sharing | User ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå copy URL ‡πÅ‡∏ä‡∏£‡πå‡∏ï‡πà‡∏≠ | ‡∏ú‡∏π‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏î‡∏π Report ‡πÑ‡∏î‡πâ |
| URL Leakage | URL ‡∏´‡∏•‡∏∏‡∏î‡∏à‡∏≤‡∏Å Browser History, Logs | ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏≤‡∏à‡∏ñ‡∏π‡∏Å‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏à |
| No Audit at PBI | Power BI ‡πÑ‡∏°‡πà track ‡∏ß‡πà‡∏≤‡πÉ‡∏Ñ‡∏£‡∏î‡∏π Public Report | ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏à‡∏£‡∏¥‡∏á‡πÑ‡∏î‡πâ |
| Permanent Access | URL ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏ï‡∏•‡∏≠‡∏î‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∞ Unpublish | ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÉ‡∏ô Portal ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡∏î‡∏π‡πÑ‡∏î‡πâ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ URL |

### 9.2 Data Classification Matrix

Admin ‡∏ï‡πâ‡∏≠‡∏á‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤ Data Classification ‡∏Å‡πà‡∏≠‡∏ô Publish Report ‡πÄ‡∏õ‡πá‡∏ô Public URL:

| Classification | ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• | Public Embed | Action |
|----------------|-------------|--------------|--------|
| üü¢ **PUBLIC** | ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ, KPIs ‡∏£‡∏ß‡∏°, Summary Dashboard, ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ú‡∏¢‡∏ï‡πà‡∏≠‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞‡πÑ‡∏î‡πâ | ‚úÖ ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï | ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏õ‡∏Å‡∏ï‡∏¥ |
| üü° **INTERNAL** | ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡πÅ‡∏ú‡∏ô‡∏Å, Performance Report, Sales/Revenue Aggregate | ‚ö†Ô∏è ‡∏£‡∏∞‡∏ß‡∏±‡∏á | ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ + User Agreement |
| üî¥ **CONFIDENTIAL** | ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•, ‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô, ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏£‡∏≤‡∏¢‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•, ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î | ‚ùå ‡∏´‡πâ‡∏≤‡∏° | ‡πÉ‡∏ä‡πâ PBI Embedded + RLS |
| ‚ö´ **RESTRICTED** | ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏±‡∏ö‡∏ó‡∏≤‡∏á‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à, ‡∏™‡∏±‡∏ç‡∏ç‡∏≤, ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• M&A, Strategic Plans | üö´ ‡∏´‡πâ‡∏≤‡∏°‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î | ‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô Power BI |

### 9.3 Mitigation Strategies

#### 9.3.1 Technical Mitigations

1. **‡∏ã‡πà‡∏≠‡∏ô URL ‡∏à‡∏≤‡∏Å Frontend**: ‡πÑ‡∏°‡πà render embed URL ‡∏ï‡∏£‡∏á‡πÜ ‡πÉ‡∏ô HTML source, ‡∏î‡∏∂‡∏á‡∏ú‡πà‡∏≤‡∏ô API ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
2. **Audit Logging**: ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà User ‡πÄ‡∏õ‡∏¥‡∏î‡∏î‡∏π Report (User, Report, Timestamp, IP)
3. **Session-based Embed**: ‡∏™‡πà‡∏á embed URL ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÉ‡∏ô authenticated session
4. **Referrer Check**: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ request ‡∏°‡∏≤‡∏à‡∏≤‡∏Å domain ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô (limited effectiveness)

#### 9.3.2 Process Mitigations

1. **URL Rotation**: ‡∏Å‡∏≥‡∏´‡∏ô‡∏î Schedule ‡πÉ‡∏´‡πâ Republish report ‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏¢‡∏∞ (‡πÄ‡∏ä‡πà‡∏ô ‡∏ó‡∏∏‡∏Å 3-6 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô)
2. **Access Review**: ‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥ (Quarterly)
3. **Data Classification Review**: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Classification ‡∏Ç‡∏≠‡∏á Report ‡∏Å‡πà‡∏≠‡∏ô Publish

#### 9.3.3 Policy Mitigations

1. **User Agreement**: User ‡∏ï‡πâ‡∏≠‡∏á‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏î‡∏π Report ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å
2. **No Sharing Policy**: ‡∏´‡πâ‡∏≤‡∏°‡πÅ‡∏ä‡∏£‡πå URL ‡∏´‡∏£‡∏∑‡∏≠ Screenshot ‡∏Ç‡∏≠‡∏á Report
3. **Violation Consequences**: ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ö‡∏ó‡∏•‡∏á‡πÇ‡∏ó‡∏©‡∏Å‡∏£‡∏ì‡∏µ‡∏•‡∏∞‡πÄ‡∏°‡∏¥‡∏î‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢

### 9.4 Admin Checklist ‡∏Å‡πà‡∏≠‡∏ô Publish Report

- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Data Classification ‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô Report ‡πÅ‡∏•‡πâ‡∏ß
- [ ] ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏• (PII) ‡πÉ‡∏ô Report
- [ ] ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏≠‡πà‡∏≠‡∏ô (Individual transactions, Account numbers)
- [ ] ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏£‡∏≤‡∏¢‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•
- [ ] ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏±‡∏ö‡∏ó‡∏≤‡∏á‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ä‡∏¥‡∏á‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå
- [ ] ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å Data Owner / Manager ‡πÅ‡∏•‡πâ‡∏ß
- [ ] ‡∏Å‡∏≥‡∏´‡∏ô‡∏î User ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡πÅ‡∏•‡πâ‡∏ß
- [ ] ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å URL ‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà Publish ‡πÑ‡∏ß‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Rotation

### 9.5 User Agreement Template

```
‡∏Ç‡πâ‡∏≠‡∏ï‡∏Å‡∏•‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏ö BI Report Portal

1. ‡∏Ç‡πâ‡∏≤‡∏û‡πÄ‡∏à‡πâ‡∏≤‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÅ‡∏ä‡∏£‡πå URL ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏Ç‡∏≠‡∏á Report ‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡∏≠‡∏∑‡πà‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå
2. ‡∏Ç‡πâ‡∏≤‡∏û‡πÄ‡∏à‡πâ‡∏≤‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏´‡∏£‡∏∑‡∏≠‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å Report ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏ä‡∏£‡πå‡∏ï‡πà‡∏≠
3. ‡∏Ç‡πâ‡∏≤‡∏û‡πÄ‡∏à‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏•‡∏∞‡πÄ‡∏°‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ï‡∏Å‡∏•‡∏á‡∏ô‡∏µ‡πâ‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏ö‡∏ó‡∏•‡∏á‡πÇ‡∏ó‡∏©‡∏ó‡∏≤‡∏á‡∏ß‡∏¥‡∏ô‡∏±‡∏¢
4. ‡∏Ç‡πâ‡∏≤‡∏û‡πÄ‡∏à‡πâ‡∏≤‡∏¢‡∏¥‡∏ô‡∏¢‡∏≠‡∏°‡πÉ‡∏´‡πâ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Activity ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≤‡∏û‡πÄ‡∏à‡πâ‡∏≤‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö
```

---

## 10. Security Requirements

- **Authentication**: Microsoft OAuth 2.0 / Azure AD ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
- **Authorization**: Role-based (Admin/User) + Report-level Access Control
- **HTTPS**: ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÉ‡∏ä‡πâ HTTPS ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
- **JWT Token**: ‡πÉ‡∏ä‡πâ JWT ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Session Management
- **CORS**: ‡∏à‡∏≥‡∏Å‡∏±‡∏î Origins ‡∏ó‡∏µ‡πà‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï
- **Rate Limiting**: ‡∏à‡∏≥‡∏Å‡∏±‡∏î API Requests
- **Audit Logging**: ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Activity ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

---

## 11. Recommended Tech Stack

### 11.1 Frontend

- **Framework**: Next.js 14+ (App Router)
- **UI Library**: Tailwind CSS + shadcn/ui
- **State Management**: React Query / SWR
- **Auth Library**: NextAuth.js (Azure AD Provider)

### 11.2 Backend

- **Option A**: Next.js API Routes (Full-stack)
- **Option B**: Node.js + Express (Separate API)
- **Option C**: .NET Core Web API

### 11.3 Database

- PostgreSQL ‡∏´‡∏£‡∏∑‡∏≠ SQL Server
- **ORM**: Prisma (Node.js) ‡∏´‡∏£‡∏∑‡∏≠ Entity Framework (.NET)

### 11.4 Deployment

- Azure App Service / Azure Container Apps
- Azure SQL Database

---

## 12. Project Timeline (Estimated)

| Phase | Tasks | Duration |
|-------|-------|----------|
| 1 | Setup + Authentication | 1-2 Weeks |
| 2 | Database + Basic APIs | 1-2 Weeks |
| 3 | Admin Dashboard + Report Management | 2-3 Weeks |
| 4 | User Dashboard + Report Viewer | 1-2 Weeks |
| 5 | Testing + Bug Fixes | 1-2 Weeks |
| 6 | Deployment + UAT | 1 Week |

**Total Estimated: 8-12 Weeks**

---

## 13. Success Metrics

- **User Adoption Rate**: >80% ‡∏Ç‡∏≠‡∏á‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ Reports
- **Authentication Success Rate**: >99%
- **Page Load Time**: <3 seconds
- **System Uptime**: >99.5%
- **User Satisfaction Score**: >4/5

---

## 14. Appendix

### 14.1 Glossary

- **Power BI Public Embed**: ‡∏Å‡∏≤‡∏£‡∏ù‡∏±‡∏á Report ‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á Authenticate ‡∏Å‡∏±‡∏ö Power BI
- **Azure AD / Entra ID**: ‡∏£‡∏∞‡∏ö‡∏ö Identity Management ‡∏Ç‡∏≠‡∏á Microsoft
- **JWT**: JSON Web Token ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Authentication
- **RBAC**: Role-Based Access Control

### 14.2 Power BI Embed URL Format

```
https://app.powerbi.com/view?r=eyJrIjoiZmRhZGY3YjQtNDliMy00ZTA4LWFjZDctYWE2ZmU5Y2E5OTZkIiwidCI6IjJlNzNjYTEwLTdlMDItNDJjZS1hNGM4LWQ3MTIwMmU3YmM3MSIsImMiOjEwfQ%3D%3D
```

**Embed in iframe:**

```html
<iframe 
  title="Report Name"
  width="100%" 
  height="600"
  src="https://app.powerbi.com/view?r=eyJrIjoiZmRhZGY3YjQ..."
  frameborder="0" 
  allowFullScreen="true">
</iframe>
```

### 14.3 References

- Microsoft Identity Platform: https://docs.microsoft.com/azure/active-directory/develop/
- Power BI Embedded: https://docs.microsoft.com/power-bi/developer/embedded/
- NextAuth.js: https://next-auth.js.org/
